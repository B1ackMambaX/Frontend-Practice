{"version":3,"file":"main.js","mappings":"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","sources":["webpack://food/./src/js/modules/modal.js","webpack://food/./src/js/modules/forms.js","webpack://food/./src/js/services/services.js","webpack://food/./src/js/modules/timer.js","webpack://food/./src/js/index.js","webpack://food/./src/js/modules/calc.js","webpack://food/./src/js/modules/cards.js","webpack://food/./src/js/modules/slider.js","webpack://food/./src/js/modules/tabs.js"],"sourcesContent":["function closeModal(modalSelector) {\n\tconst modalWindow = document.querySelector(modalSelector);\n\n\tmodalWindow.classList.add(\"hide\");\n\tdocument.body.style.overflow = \"\";\n}\n\nfunction showModal(modalSelector, timeout) {\n\tconst modalWindow = document.querySelector(modalSelector);\n\n\tmodalWindow.classList.remove(\"hide\");\n\tdocument.body.style.overflow = \"hidden\";\n\n\tif (timeout) clearInterval(timeout);\n}\n\nfunction modal(triggerSelector, modalSelector, timeout) {\n\tconst modalTrigger = document.querySelectorAll(triggerSelector),\n\t\t  modalWindow = document.querySelector(modalSelector);\n\t\n\tfunction showModalByScroll() {\n\t\tif (window.scrollY + document.documentElement.clientHeight >= document.documentElement.scrollHeight - 1) {\n\t\t\tshowModal(modalSelector, timeout);\n\t\t\twindow.removeEventListener(\"scroll\", showModalByScroll);\n\t\t}\n\t}\n\n\tmodalTrigger.forEach((trigger) => {\n\t\ttrigger.addEventListener(\"click\", () => showModal(modalSelector, timeout));\n\t});\n\n\tmodalWindow.addEventListener(\"click\", (e) => {\n\t\tif (e.target === modalWindow || e.target.getAttribute(\"data-close\") === \"\") {\n\t\t\tcloseModal(modalSelector);\n\t\t}\n\t});\n\n\tdocument.addEventListener(\"keydown\", (e) => {\n\t\tif (e.code === \"Escape\" && !modalWindow.classList.contains(\"hide\")) {\n\t\t\tcloseModal(modalSelector);\n\t\t}\n\t});\n\n\twindow.addEventListener(\"scroll\", showModalByScroll);\n}\n\nexport { modal };\nexport { closeModal };\nexport { showModal };\n","import { closeModal, showModal } from \"./modal\";\nimport { postData } from \"../services/services\";\n\nfunction initForms(selector, timer) {\n\tconst forms = document.querySelectorAll(selector),\n\t\t  messages = {\n\t\t\t  loading: \"icons/spinner.svg\",\n\t\t\t  success: \"Спасибо скоро мы с вами свяжемся\",\n\t\t\t  fail: \"Что-то пошло не так\",\n\t\t  };\n\n\tfunction showThanksModal(message) {\n\t\t// Скрываем модалку с формой\n\t\tconst previousModal = document.querySelector(\".modal__dialog\");\n\t\tpreviousModal.classList.add(\"hide\");\n\t\t\n\t\t// Создаем новую модалку со статусом запроса и показываем её\n\t\tconst thanksModal = document.createElement(\"div\");\n\t\tthanksModal.classList.add(\"modal__dialog\");\n\t\tthanksModal.innerHTML = `\n            <div class=\"modal__content\">\n                <div class=\"modal__close\" data-close>&times;</div>\n                <div class=\"modal__title\">${message}</div>\n            </div>\n        `;\n\t\tdocument.querySelector(\".modal\").append(thanksModal);\n\t\tshowModal(\".modal\", timer);\n\t\t\n\t\t// Удаляем модалку со статусом запроса через 4с и возвращаем все в исходное положение\n\t\tsetTimeout(() => {\n\t\t\tthanksModal.remove();\n\t\t\tpreviousModal.classList.remove(\"hide\");\n\t\t\tcloseModal(\".modal\");\n\t\t}, 4000);\n\t}\n\n\tfunction bindPostData(form) {\n\t\tform.addEventListener(\"submit\", (e) => {\n\t\t\te.preventDefault();\n\n\t\t\t// Добавляем спиннер который показывается во время отправки\n\t\t\tconst spinner = document.createElement(\"img\");\n\t\t\tspinner.src = messages.loading;\n\t\t\tspinner.classList.add(\"spinner\");\n\t\t\tform.insertAdjacentElement(\"afterend\", spinner);\n\n\t\t\t// Отправляем данные на сервер\n\t\t\tconst formData = new FormData(form);\n\t\t\tconst json = JSON.stringify(Object.fromEntries(formData.entries()));\n\t\t\tpostData(\"http://localhost:3000/requests\", json)\n\t\t\t\t.then((/*data*/) => {\n\t\t\t\t\t//console.log(data);\n\t\t\t\t\tshowThanksModal(messages.success);\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tshowThanksModal(messages.fail);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tform.reset();\n\t\t\t\t\tspinner.remove();\n\t\t\t\t});\n\t\t});\n\t}\n\n\tforms.forEach((form) => bindPostData(form));\n}\n\nexport default initForms;\n","const getResource = async (url) => {\n    const res = await fetch(url);\n    if (!res.ok) {\n        throw new Error(`Couldn't fetch from ${url}, status: ${res.status}`);\n    }\n    return await res.json();\n};\n\nconst postData = async (url, data) => {\n    const res = await fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-type\": \"application/json\",\n        },\n        body: data,\n    });\n    return await res.json();\n};\n\nexport { getResource };\nexport { postData };","function getTimeRemaining(endTime) {\n\tlet days, hours, minutes, seconds;\n\tconst t = Date.parse(endTime) - Date.now();\n\n\tif (t <= 0) {\n\t\tdays = 0;\n\t\thours = 0;\n\t\tminutes = 0;\n\t\tseconds = 0;\n\t} else {\n\t\tdays = Math.floor(t / (1000 * 60 * 60 * 24));\n\t\thours = Math.floor((t / (1000 * 60 * 60)) % 24);\n\t\tminutes = Math.floor((t / (1000 * 60)) % 60);\n\t\tseconds = Math.floor((t / 1000) % 60);\n\t}\n\n\treturn {\n\t\ttotal: t,\n\t\tdays,\n\t\thours,\n\t\tminutes,\n\t\tseconds,\n\t};\n}\n\nfunction getZero(num) {\n\treturn num >= 0 && num < 10 ? `0${num}` : num;\n}\n\nfunction setTimer(selector, deadline) {\n\tconst timer = document.querySelector(selector),\n\t\t  days = timer.querySelector(\"#days\"),\n\t\t  hours = timer.querySelector(\"#hours\"),\n\t\t  minutes = timer.querySelector(\"#minutes\"),\n\t\t  seconds = timer.querySelector(\"#seconds\");\n\t\n\tfunction updateTimer(interval) {\n\t\tconst remaining = getTimeRemaining(deadline);\n\n\t\tdays.innerHTML = getZero(remaining.days);\n\t\thours.innerHTML = getZero(remaining.hours);\n\t\tminutes.innerHTML = getZero(remaining.minutes);\n\t\tseconds.innerHTML = getZero(remaining.seconds);\n\n\t\tif (remaining.total <= 0) {\n\t\t\tclearInterval(interval);\n\t\t}\n\t}\n\t\t\t\n\tconst updatingInterval = setInterval(updateTimer, 1000);\n\tupdateTimer(updatingInterval);\n}\n\nexport default setTimer;\n","import calc from \"./modules/calc\";\nimport cards from \"./modules/cards\";\nimport initForms from \"./modules/forms\";\nimport { modal, showModal } from \"./modules/modal\";\nimport slider from \"./modules/slider\";\nimport initTabs from \"./modules/tabs\";\nimport setTimer from \"./modules/timer\";\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n\tconst modalTimerId = setTimeout(() => showModal(\".modal\", modalTimerId), 50000);\n\t\n\tmodal(\"[data-modal]\", \".modal\", modalTimerId);\n\tsetTimer(\".timer\", \"2023-08-20\");\n\tcalc();\n\tcards(\".menu__field .container\");\n\tinitForms(\"form\", modalTimerId);\n\tslider({\n\t\t\tprev: \".offer__slider-prev\",\n\t\t\tnext: \".offer__slider-next\",\n\t\t\tslideSelector: \".offer__slide\",\n\t\t\tcontainer: \".offer__slider\",\n\t\t\twrapper: \".offer__slider-wrapper\",\n\t\t\tfield:\t\".offer__slider-inner\"\n\t\t});\n\tinitTabs(\".tabheader__item\", \".tabcontent\");\n});\n","function calc() {\n\tconst result = document.querySelector(\".calculating__result span\");\n\tlet sex, weight, height, age, ratio;\n\n\t/* Если Local Storage пуст, устанавливаем значения по умолчанию для \n\t\tдемонстрации пользователю работы калькулятора */\n\tif (!localStorage.getItem('sex')) {\n        localStorage.setItem('sex', 'male');\n    }\n    if (!localStorage.getItem('ratio')) {\n        localStorage.setItem('ratio', 1.375);\n    }\n\n\t// Инициализация значений из Local Storage\n\tfunction initLocalSettings(selector) {\n\t\tconst elements = document.querySelectorAll(selector);\n\n\t\telements.forEach((element) => {\n\t\t\telement.classList.remove(\"calculating__choose-item_active\");\n\n\t\t\tif (element.getAttribute(\"id\") === localStorage.getItem(\"sex\")) {\n\t\t\t\tsex = localStorage.getItem(\"sex\");\n\t\t\t\telement.classList.add(\"calculating__choose-item_active\");\n\t\t\t}\n\n\t\t\tif (element.getAttribute(\"data-ratio\") === localStorage.getItem(\"ratio\") && element.getAttribute(\"data-ratio\")) {\n\t\t\t\telement.classList.add(\"calculating__choose-item_active\");\n\t\t\t\tratio = +localStorage.getItem(\"ratio\");\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction calcCalories() {\n\t\tif (!sex || !weight || !height || !age || !ratio) {\n\t\t\tresult.textContent = \"--\";\n\t\t\treturn;\n\t\t}\n\n\t\tif (sex === \"female\") {\n\t\t\tresult.textContent = Math.round((447.6 + 9.2 * weight + 3.1 * height - 4.3 * age) * ratio);\n\t\t} else {\n\t\t\tresult.textContent = Math.round((88.36 + 13.4 * weight + 4.8 * height - 5.7 * age) * ratio);\n\t\t}\n\t}\n\n\tfunction getTogglesValue(parentSelector) {\n\t\tconst elements = document.querySelectorAll(`${parentSelector} div`);\n\n\t\tdocument.querySelector(parentSelector).addEventListener(\"click\", (e) => {\n\t\t\tif (e.target.getAttribute(\"data-ratio\")) {\n\t\t\t\tratio = +e.target.getAttribute(\"data-ratio\");\n\t\t\t\tlocalStorage.setItem(\"ratio\", ratio);\n\t\t\t} else {\n\t\t\t\tsex = e.target.getAttribute(\"id\");\n\t\t\t\tlocalStorage.setItem(\"sex\", sex);\n\t\t\t}\n\n\t\t\tif (e.target.classList.contains(\"calculating__choose-item\")) {\n\t\t\t\telements.forEach((element) => {\n\t\t\t\t\telement.classList.remove(\"calculating__choose-item_active\");\n\t\t\t\t});\n\t\t\t\te.target.classList.add(\"calculating__choose-item_active\");\n\t\t\t}\n\t\t\tcalcCalories();\n\t\t});\n\t}\n\n\tfunction getInputValue(selector) {\n\t\tconst input = document.querySelector(selector);\n\n\t\tinput.addEventListener(\"input\", () => {\n\t\t\tif (input.value.match(/\\D/g)) {\n\t\t\t\tinput.style.border = \"1px solid red\";\n\t\t\t} else {\n\t\t\t\tinput.style.border = \"none\";\n\n\t\t\t\tswitch (input.getAttribute(\"id\")) {\n\t\t\t\t\tcase \"height\":\n\t\t\t\t\t\theight = +input.value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"weight\":\n\t\t\t\t\t\tweight = +input.value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"age\":\n\t\t\t\t\t\tage = +input.value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcalcCalories();\n\t\t});\n\t}\n\n\tinitLocalSettings(\".calculating__choose-item\");\n\tcalcCalories();\n\tgetTogglesValue(\"#gender\");\n\tgetTogglesValue(\".calculating__choose_big\");\n\tgetInputValue(\"#height\");\n\tgetInputValue(\"#weight\");\n\tgetInputValue(\"#age\");\n}\n\nexport default calc;\n","import { getResource } from \"../services/services\";\n\nfunction cards(wrapper) {\n\tclass MenuCard {\n\t\tconstructor(imgSource, alt, title, descr, price, parentSelector) {\n\t\t\tthis.src = imgSource;\n\t\t\tthis.alt = alt;\n\t\t\tthis.title = title;\n\t\t\tthis.descr = descr;\n\t\t\tthis.price = price;\n\t\t\tthis.transfer = 27;\n\t\t\tthis.parent = document.querySelector(parentSelector);\n\t\t\tthis.changeToUAH();\n\t\t}\n\n\t\tchangeToUAH() {\n\t\t\tthis.price *= this.transfer;\n\t\t}\n\n\t\trender() {\n\t\t\tconst element = document.createElement(\"div\");\n\t\t\telement.innerHTML = `\n\t\t\t<div class=\"menu__item\">\n\t\t\t\t<img src=${this.src} alt=${this.alt}>\n\t\t\t\t<h3 class=\"menu__item-subtitle\">${this.title}</h3>\n\t\t\t\t<div class=\"menu__item-descr\">${this.descr}</div>\n\t\t\t\t<div class=\"menu__item-divider\"></div>\n\t\t\t\t<div class=\"menu__item-price\">\n\t\t\t\t\t<div class=\"menu__item-cost\">Цена:</div>\n\t\t\t\t\t<div class=\"menu__item-total\"><span>${this.price}</span> грн/день</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.parent.append(element);\n\t\t}\n\t}\n\n\tgetResource(\"http://localhost:3000/menu\").then((data) => {\n\t\tdata.forEach(({ img, altimg, title, descr, price }) => {\n\t\t\tnew MenuCard(img, altimg, title, descr, price, wrapper).render();\n\t\t});\n\t});\n}\n\nexport default cards;\n","function slider({prev, next, slideSelector, container, wrapper, field}) {\n\tconst prevArrow = document.querySelector(prev),\n\t\t  nextArrow = document.querySelector(next),\n\t\t  current = document.querySelector(\"#current\"),\n\t\t  total = document.querySelector(\"#total\"),\n\t\t  slides = document.querySelectorAll(slideSelector),\n\t\t  slider = document.querySelector(container),\n\t\t  slidesWrapper = document.querySelector(wrapper),\n\t\t  slidesField = document.querySelector(field),\n\t\t  { width } = window.getComputedStyle(slidesWrapper);\n\t\n\tlet slideIndex = 1, offset = 0;\n\n\t// Функция для создания навигационных индикаторов\n\tfunction createNavDots() {\n\t\tconst indicators = document.createElement(\"ol\"),\n\t\t      dots = [];\n  \n\t\tindicators.classList.add(\"carousel-indicators\");\n\t\tslider.append(indicators);\n\t\t\n\t\tfor (let i = 0; i < slides.length; i++) {\n\t\t\tconst dot = document.createElement(\"li\");\n\t\t\tdot.setAttribute(\"data-slide-to\", i + 1);\n\t\t\tdot.classList.add(\"dot\");\n\t\t\tindicators.append(dot);\n\t\t\tif (i === 0) dot.style.opacity = 1;\n\t\t\tdots.push(dot);\n\t\t}\n\t\treturn dots;\n\t}\n\n\t// Функция, устанавливающая индикатор текущего слайда\n\tfunction setActiveIndicator(dots, index) {\n\t\tdots.forEach((dot) => { dot.style.opacity = \"0.5\"; });\n\t\tdots[index].style.opacity = \"1\";\n\t}\n\n\t// Функция, меняющая значение счетчика слайдов\n\tfunction setCurrentCounter() {\n\t\tcurrent.textContent = slideIndex < 10 ? `0${slideIndex}` : slideIndex;\n\t}\n\t\t\n\t// Настройка стилей и установка счетчика слайдов\n\ttotal.textContent = slides.length < 10 ? `0${slides.length}` : slides.length;\n\tcurrent.textContent = \"01\";\n\tslidesField.style.width = `${100 * slides.length}%`;\n\tslides.forEach((slide) => {\n\t\tslide.style.width = width;\n\t});\n\t\n\t// Основная часть, создание обработчиков событий для стрелок и навигационных точек\n\tconst dots = createNavDots();\n\t\n\tnextArrow.addEventListener(\"click\", () => {\n\t\tif (offset === parseInt(width, 10) * (slides.length - 1)) {\n\t\t\toffset = 0;\n\t\t} else {\n\t\t\toffset += parseInt(width, 10);\n\t\t}\n\t\tslidesField.style.transform = `translateX(-${offset}px)`;\n\t\tslideIndex = slideIndex === slides.length ? 1 : slideIndex + 1;\n\t\t\n\t\tsetCurrentCounter();\n\t\tsetActiveIndicator(dots, slideIndex - 1);\n\t});\n\n\tprevArrow.addEventListener(\"click\", () => {\n\t\tif (offset === 0) {\n\t\t\toffset = parseInt(width, 10) * (slides.length - 1);\n\t\t} else {\n\t\t\toffset -= parseInt(width, 10);\n\t\t}\n\t\tslidesField.style.transform = `translateX(-${offset}px)`;\n\t\tslideIndex = slideIndex === 1 ? slides.length : slideIndex - 1;\n\t\t\n\t\tsetCurrentCounter();\n\t\tsetActiveIndicator(dots, slideIndex - 1);\n\t});\n\n\tdots.forEach((dot) => {\n\t\tdot.addEventListener(\"click\", (e) => {\n\t\t\tconst slideTo = e.target.getAttribute(\"data-slide-to\");\n\t\t\t\n\t\t\tslideIndex = slideTo;\n\t\t\toffset = parseInt(width, 10) * (slideTo - 1);\n\t\t\tslidesField.style.transform = `translateX(-${offset}px)`;\n\n\t\t\tsetCurrentCounter();\n\t\t\tsetActiveIndicator(dots, slideIndex - 1);\n\t\t});\n\t});\n}\n\nexport default slider;\n","function initTabs(headers, tabs) {\n\tconst tabsHeader = document.querySelectorAll(headers),\n\t\t  tabsContent = document.querySelectorAll(tabs),\n\t      headerParent = tabsHeader[0].parentElement;\n\n\tfunction hideTabContent() {\n\t\ttabsContent.forEach((tab) => {\n\t\t\ttab.classList.add(\"hide\");\n\t\t\ttab.classList.remove(\"show\", \"fade\");\n\t\t});\n\t\ttabsHeader.forEach((header) => {\n\t\t\theader.classList.remove(\"tabheader__item_active\");\n\t\t});\n\t}\n\t\n\tfunction showTabContent(i = 0) {\n\t\ttabsContent[i].classList.add(\"show\", \"fade\");\n\t\ttabsContent[i].classList.remove(\"hide\");\n\t\ttabsHeader[i].classList.add(\"tabheader__item_active\");\n\t}\n\t\n\thideTabContent();\n\tshowTabContent();\n\theaderParent.addEventListener(\"click\", (event) => {\n\t\tconst {target} = event;\n\t\t\n\t\tif (target && target.classList.contains(\"tabheader__item\")) {\n\t\t\ttabsHeader.forEach((item, i) => {\n\t\t\t\tif (target === item) {\n\t\t\t\t\thideTabContent();\n\t\t\t\t\tshowTabContent(i);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nexport default initTabs;\n"],"names":["closeModal","modalSelector","document","querySelector","classList","add","body","style","overflow","showModal","timeout","remove","clearInterval","selector","timer","forms","querySelectorAll","showThanksModal","message","previousModal","thanksModal","createElement","innerHTML","append","setTimeout","forEach","form","addEventListener","e","preventDefault","spinner","src","insertAdjacentElement","formData","FormData","async","url","data","res","fetch","method","headers","json","postData","JSON","stringify","Object","fromEntries","entries","then","catch","finally","reset","bindPostData","getZero","num","window","modalTimerId","triggerSelector","modalTrigger","modalWindow","trigger","target","getAttribute","code","contains","showModalByScroll","scrollY","documentElement","clientHeight","scrollHeight","removeEventListener","modal","deadline","days","hours","minutes","seconds","updateTimer","interval","remaining","endTime","t","Date","parse","now","Math","floor","total","getTimeRemaining","setInterval","setTimer","result","sex","weight","height","age","ratio","calcCalories","textContent","round","getTogglesValue","parentSelector","elements","localStorage","setItem","element","getInputValue","input","value","match","border","getItem","calc","wrapper","MenuCard","constructor","imgSource","alt","title","descr","price","this","transfer","parent","changeToUAH","render","ok","Error","status","getResource","_ref","img","altimg","cards","initForms","prev","next","slideSelector","container","field","prevArrow","nextArrow","current","slides","slider","slidesWrapper","slidesField","width","getComputedStyle","slideIndex","offset","setActiveIndicator","dots","index","dot","opacity","setCurrentCounter","length","slide","indicators","i","setAttribute","push","createNavDots","parseInt","transform","slideTo","tabs","tabsHeader","tabsContent","headerParent","parentElement","hideTabContent","tab","header","showTabContent","arguments","undefined","event","item","initTabs"],"sourceRoot":""}